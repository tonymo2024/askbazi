# 八字算命程式詳細使用說明

## 目錄
1. [快速開始](#快速開始)
2. [詳細操作步驟](#詳細操作步驟)
3. [輸入格式說明](#輸入格式說明)
4. [輸出內容解讀](#輸出內容解讀)
5. [常見問題解答](#常見問題解答)
6. [技術說明](#技術說明)

## 快速開始

### 第一步：準備環境
確保您的系統已安裝 Python 3.11 或更高版本：
```bash
python3.11 --version
```

### 第二步：安裝依賴
```bash
pip3 install reportlab lunar-python jieba
```

### 第三步：運行程式
```bash
python3.11 fortune_teller.py
```

### 第四步：按提示輸入信息
- 姓名：輸入中文姓名
- 出生日期：格式為 YYYY-MM-DD（如：1985-05-29）
- 出生時間：格式為 HH:MM（如：14:05）
- 性別：輸入"男"或"女"

### 第五步：獲取PDF報告
程式會自動生成PDF算命報告，文件名格式為：`姓名_算命報告_時間戳.pdf`

## 詳細操作步驟

### 1. 啟動程式
運行主程式後，您會看到歡迎界面：
```
==================================================
歡迎使用八字算命程式
==================================================
```

### 2. 輸入個人信息

#### 2.1 輸入姓名
```
請輸入姓名：張三
```
- 支持中文姓名
- 不能為空
- 建議使用真實姓名以獲得更準確的分析

#### 2.2 輸入出生日期
```
請輸入出生日期（格式：YYYY-MM-DD，如：1985-05-29）：1985-05-29
```
- 必須使用公曆日期
- 格式嚴格按照 YYYY-MM-DD
- 不能是未來日期
- 不能早於1900年

#### 2.3 輸入出生時間
```
請輸入出生時間（格式：HH:MM，如：14:05）：14:05
```
- 使用24小時制
- 格式為 HH:MM
- 時間會影響時柱計算，請盡量準確

#### 2.4 選擇性別
```
請輸入性別（男/女）：男
```
- 只接受"男"或"女"
- 性別會影響大運順逆排列

### 3. 查看基本信息
程式會顯示計算出的基本信息：
```
==================================================
命主基本信息
==================================================
姓名：張三
出生日期：1985年5月29日
出生時間：14時5分
性別：男
生肖：牛
日主五行：土
喜用神五行：木, 金

八字排盤：
年柱：乙丑  月柱：辛巳  日柱：戊辰  時柱：己未
天干：乙 辛 戊 己
地支：丑 巳 辰 未

五行統計：
木：1個
火：1個
土：5個
金：1個
水：0個
```

### 4. 查看大運信息
```
==================================================
大運信息
==================================================
步數  大運   年齡範圍    五行
----------------------------------------
 1    庚辰   7-16歲     金
 2    己卯   17-26歲    土
 3    戊寅   27-36歲    土
...
```

### 5. 確認生成PDF報告
```
==================================================
是否生成完整的PDF算命報告？(y/n)：y
```
- 輸入 y 或 yes 或 是：繼續生成報告
- 輸入 n 或 no 或 否：結束程式

### 6. 等待內容生成
```
正在生成算命內容...
內容生成完成！
```

### 7. 預覽部分內容
程式會顯示人生總論的部分內容作為預覽。

### 8. 生成PDF文件
```
正在生成PDF報告：張三_算命報告_20240726_143022.pdf
PDF報告生成成功！
文件大小：9193 字節
文件位置：/home/ubuntu/張三_算命報告_20240726_143022.pdf
```

### 9. 查看完成信息
```
==================================================
算命報告生成完成！
==================================================
報告包含以下章節：
1. 命主資料及八字大運
2. 人生總論
3. 事業總論
4. 財運總論
5. 姻緣總論
6. 健康總論
7. 六親總論
8. 五十年大運總論
9. 十年流年預測
10. 簡易催運指南

PDF文件已保存為：張三_算命報告_20240726_143022.pdf
謝謝使用八字算命程式！
```

## 輸入格式說明

### 日期格式
- **正確格式**：1985-05-29、1990-12-01、2000-01-01
- **錯誤格式**：85-5-29、1985/5/29、1985.5.29

### 時間格式
- **正確格式**：14:05、09:30、23:59、00:00
- **錯誤格式**：2:05 PM、14點05分、14:5

### 性別輸入
- **正確輸入**：男、女
- **錯誤輸入**：M、F、male、female、先生、女士

## 輸出內容解讀

### PDF報告結構

#### 第一頁：命主資料及八字大運
- **基本信息表格**：包含姓名、出生日期時間、性別、生肖等
- **八字排盤表格**：年月日時四柱的天干地支
- **大運表格**：顯示各步大運的時間範圍和五行屬性

#### 第二頁：人生總論
- **性格分析**：根據日主五行分析性格特點
- **人生特點**：分析人生發展模式和特色
- **總體運勢**：綜合評估整體運勢走向
- **人際關係**：分析人際交往特點和建議

#### 第三頁：事業總論
- **事業運勢分析**：評估事業發展潛力
- **適合職業方向**：推薦適合的行業和職業
- **事業發展建議**：提供具體的發展建議
- **創業與就業**：分析創業和就業的適合性

#### 第四頁：財運總論
- **財運基本分析**：分析財運的基本特點
- **求財方式**：推薦適合的求財方法
- **財運週期**：分析財運的週期性變化
- **理財建議**：提供具體的理財建議

#### 第五頁：姻緣總論
- **婚姻基本分析**：分析婚姻運勢的基本情況
- **配偶特徵**：描述未來配偶可能的特點
- **婚姻時機**：預測適合結婚的時間
- **感情建議**：提供感情經營的建議

#### 第六頁：健康總論
- **健康基本分析**：分析體質和健康狀況
- **易患疾病**：預測可能的健康問題
- **養生建議**：提供具體的養生方法
- **運動保健**：推薦適合的運動方式

#### 第七頁：六親總論
- **父母關係**：分析與父母的關係
- **兄弟姊妹**：分析兄弟姊妹關係
- **子女運勢**：分析子女運和親子關係
- **人際貴人**：分析貴人運和人際網絡

#### 第八頁：五十年大運總論
- **大運總體分析**：分析各步大運的特點
- **每步大運詳解**：詳細解釋每個大運期的特點
- **重要轉折點**：標出人生的重要轉折時期
- **發展機遇**：分析各個時期的發展機會

#### 第九頁：十年流年預測
- **年度運勢預測**：預測未來十年每年的運勢
- **重點關注事項**：提醒每年需要注意的事項
- **機遇與挑戰**：分析每年的機遇和挑戰

#### 第十頁：簡易催運指南
- **顏色運用**：推薦有利的顏色
- **方位選擇**：推薦有利的方位
- **數字運用**：推薦幸運數字
- **飾品佩戴**：推薦有利的飾品材質
- **植物擺放**：推薦適合的植物
- **日常注意事項**：日常生活中的注意事項

## 常見問題解答

### Q1：程式運行時出現錯誤怎麼辦？
**A1**：請檢查以下幾點：
1. Python版本是否為3.11或更高
2. 是否正確安裝了所有依賴庫
3. 輸入格式是否正確
4. 系統是否有足夠的磁盤空間

### Q2：為什麼PDF中的中文顯示異常？
**A2**：這是字體問題。程式會嘗試自動加載中文字體，如果失敗會使用系統默認字體。雖然可能影響顯示效果，但不影響內容的完整性。

### Q3：計算出的八字是否準確？
**A3**：程式使用標準的八字計算方法，包括：
- 精確的農曆轉換
- 標準的天干地支推算
- 正確的大運計算方法
計算結果是準確可靠的。

### Q4：生成的內容是否具有參考價值？
**A4**：程式基於傳統命理學原理，結合現代算法生成個性化內容。內容具有一定的參考價值，但應理性對待，不應作為人生重大決策的唯一依據。

### Q5：可以修改輸出內容嗎？
**A5**：可以。您可以修改 `content_generator.py` 文件中的模板內容來自定義輸出內容。

### Q6：程式支持哪些操作系統？
**A6**：程式支持所有能運行Python的操作系統，包括Windows、macOS和Linux。

### Q7：如何批量處理多個人的資料？
**A7**：當前版本主要針對單個用戶設計。如需批量處理，可以修改主程式邏輯，或者多次運行程式。

### Q8：生成的PDF文件很大怎麼辦？
**A8**：正常情況下PDF文件大小約為9-10KB。如果文件過大，可能是字體或圖片問題。

## 技術說明

### 八字計算原理
1. **農曆轉換**：使用lunar-python庫進行精確的公曆農曆轉換
2. **四柱推算**：根據農曆日期推算年月日時四柱
3. **大運計算**：根據性別和月柱推算大運順逆
4. **五行分析**：統計八字中的五行分佈

### 內容生成邏輯
1. **模板系統**：使用預定義的內容模板
2. **個性化調整**：根據八字特點調整內容
3. **隨機化處理**：避免內容過於機械化

### PDF生成技術
1. **ReportLab庫**：使用專業的PDF生成庫
2. **中文支持**：嘗試加載中文字體
3. **版面設計**：模仿傳統命書風格

### 錯誤處理機制
1. **輸入驗證**：對所有用戶輸入進行格式驗證
2. **異常捕獲**：捕獲並處理各種可能的異常
3. **友好提示**：提供清晰的錯誤信息和解決建議

---

如有其他問題，請參考README.md文件或聯繫開發者。

